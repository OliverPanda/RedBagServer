# ========================================
# 测试环境配置文件
# ========================================
# 此文件用于测试环境，包含测试专用的配置

# ========================================
# 基础环境配置
# ========================================
NODE_ENV=test
PORT=3001

# ========================================
# 数据库配置
# ========================================
# 测试环境使用内存数据库，由 mongodb-memory-server 管理
# 注意：实际测试时会使用内存数据库，这里设置一个默认值
MONGODB_URI=mongodb://localhost:27017/redbag_test

# ========================================
# Redis 配置
# ========================================
# 测试环境可以使用内存 Redis 或禁用
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=

# ========================================
# JWT 配置
# ========================================
# 测试环境使用固定密钥，便于测试
JWT_SECRET=test-secret-key-for-testing-only
JWT_EXPIRES_IN=30m
JWT_REFRESH_EXPIRES_IN=7d

# ========================================
# 短信服务配置
# ========================================
# 测试环境禁用真实短信发送
SMS_API_KEY=test_key
SMS_API_SECRET=test_secret

# ========================================
# 推送通知配置
# ========================================
PUSH_NOTIFICATION_KEY=test_push_key

# ========================================
# 文件上传配置
# ========================================
UPLOAD_PATH=./test-uploads
MAX_FILE_SIZE=1048576

# ========================================
# 限流配置
# ========================================
# 测试环境降低限流阈值
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=1000

# ========================================
# 日志配置
# ========================================
LOG_LEVEL=warn
LOG_FILE_PATH=./test-logs

# ========================================
# 安全配置
# ========================================
CORS_ORIGIN=http://localhost:3001
SESSION_SECRET=test-session-secret

# ========================================
# 监控配置
# ========================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PORT=3002

# ========================================
# 开发工具配置
# ========================================
# 测试环境禁用 Swagger 和调试
SWAGGER_ENABLED=false
DEBUG=false

# ========================================
# 测试专用配置
# ========================================
# 测试超时设置
TEST_TIMEOUT=30000

# 是否启用测试日志
TEST_LOGGING=false

# 测试数据库名称
TEST_DB_NAME=redbag_test

# 测试用户默认密码
TEST_USER_PASSWORD=test123456
